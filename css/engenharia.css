/* ====================================================================== */
/* üíé BELENERGY ENGINEERING SYSTEM - LUXE UI v4.0                       */
/* ====================================================================== */

:root {
    --primaria: #FFD700;
    --primaria-dark: #ccac00;
    --texto-header: #0f172a;
    --texto-corpo: #334155;
    --texto-apoio: #64748b;
    /* Mantido para compatibilidade */
    --borda-elegante: #e2e8f0;
    --borda-suave: #e2e8f0;
    /* Mantido para compatibilidade */
    --radius-lg: 12px;
    --sombra-premium: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
}

/* 1. Global & Scroll Estilizado */
body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    color: var(--texto-corpo);
    background-color: #f8fafc;
}

/* Corre√ß√£o de Scroll e Fundo */
body.theme-acessivel {
    margin: 0;
    background-color: #f1f5f9;
    background-image: radial-gradient(#cbd5e1 0.5px, transparent 0.5px);
    background-size: 24px 24px;
    /* Grade de engenharia */
    color: var(--texto-corpo);
    overflow-y: auto !important;
    /* Liberta o scroll vertical */
    overflow-x: hidden;
    height: auto !important;
    min-height: 100vh;
}

body.theme-premium {
    background-color: #0f172a;
    color: #f1f5f9;
    background-image: radial-gradient(#1e293b 0.5px, transparent 0.5px);
    background-size: 20px 20px;
}

/* 2. Header Arrojado (Glassmorphism Dark) */
.header-engenharia-fixo {
    letter-spacing: -0.5px;
}

/* 3. √Årea de Trabalho e Cards */
.area-trabalho-engenharia {
    max-width: 1200px;
    /* Largura ideal para formul√°rios */
    margin: 20px auto !important;
    padding: 0 30px 80px 30px;
    /* Espa√ßo generoso no fundo */
    display: flex;
    flex-direction: column;
    gap: 12px;
    /* Espa√ßo entre se√ß√µes */
}

.card-tecnico {
    background: #ffffff;
    border-radius: var(--radius-lg);
    border: 1px solid var(--borda-elegante);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    padding: 15px 20px !important;
    /* Espa√ßo interno para os campos respirarem */
    transition: transform 0.3s ease;
    overflow: hidden;
    margin-bottom: 10px !important;
}

.secao-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 5px;
    padding-bottom: 5px;
    background: transparent;
    border-bottom: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

.secao-header i {
    color: var(--primaria-dark);
    font-size: 1.2rem;
}

/* 4. Grid de Inputs "World Class" */
.grid-inputs {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px 25px;
    /* Espa√ßo generoso entre linhas e colunas */
    margin-top: 20px;
}

/* 5. Inputs e Labels */
.form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
    /* Espa√ßo entre label e input */
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--texto-apoio);
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.input-monitorado,
.input-estilizado {
    width: 100%;
    height: 50px !important;
    /* Altura ergon√≥mica */
    padding: 0 18px !important;
    font-size: 1.05rem !important;
    font-weight: 500;
    color: #0f172a;
    border: 2px solid var(--borda-elegante) !important;
    border-radius: 10px !important;
    background: #ffffff !important;
    transition: all 0.2s ease;
    box-sizing: border-box;
    /* Garante que o padding n√£o quebre o layout */
}

.input-monitorado:focus,
.input-estilizado:focus {
    border-color: var(--primaria) !important;
    background: #fff !important;
    box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.15) !important;
    outline: none;
    transform: translateY(-1px);
}

/* 6. Sugest√µes de Pain√©is */
.grid-sugestoes {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
}

.card-modulo {
    border: 2px solid var(--borda-suave) !important;
    padding: 2rem !important;
    border-radius: 12px;
}

.card-modulo.selecionado {
    border-color: var(--primaria) !important;
    background: linear-gradient(145deg, #ffffff, #fffdf0);
}

.card-modulo.selecionado::after {
    content: 'RECOMENDADO';
    position: absolute;
    top: 10px;
    right: 10px;
    background: var(--primaria);
    font-size: 0.6rem;
    font-weight: 900;
    padding: 4px 8px;
    border-radius: 4px;
}

/* üèõÔ∏è ESTRUTURA PRINCIPAL DA APLICA√á√ÉO (SHELL)                           */
/* ====================================================================== */

body.app-shell {
    padding-top: 0;
    overflow: hidden;
    background-color: #f8fafc;
}

.app-container {
    display: flex;
    height: 100vh;
}

.sidebar-engenharia {
    width: 260px;
    background: #0f172a;
    /* Azul noturno profundo */
    color: #e2e8f0;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    border-right: 1px solid #e2e8f0;
    position: fixed;
    height: 100vh;
    z-index: 100;
}

.sidebar-engenharia .logo-area {
    padding: 1.5rem;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.sidebar-engenharia .logo-area img {
    max-width: 140px;
    height: auto;
}

.menu-principal {
    flex: 1;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.item-menu {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    color: #94a3b8;
    text-decoration: none;
    font-weight: 500;
    border-radius: 8px;
    transition: all 0.3s ease;
    cursor: pointer;
}

.item-menu i {
    width: 20px;
    text-align: center;
}

.item-menu:hover {
    background: #1e293b;
    color: #ffcc00;
}

.item-menu.active {
    background: #1e293b;
    color: #ffcc00;
    border-left: 3px solid #ffcc00;
    padding-left: 13px;
    /* Compensa a borda */
}

.user-info-area {
    padding: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.user-info-area .user-name {
    font-weight: 600;
    font-size: 0.9rem;
    color: #fff;
}

.user-info-area .logout-link {
    color: #94a3b8;
    font-size: 0.8rem;
    text-decoration: none;
    margin-top: 5px;
    display: block;
}

.user-info-area .logout-link:hover {
    color: #ffcc00;
}

.main-panel {
    margin-left: 260px;
    width: calc(100% - 260px);
    display: flex;
    flex-direction: column;
    background-color: #f8fafc;
}

.header-principal {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    padding: 0 40px;
    background: #ffffff;
    height: 80px;
    border-bottom: 1px solid #e2e8f0;
    color: #1e293b;
    flex-shrink: 0;
    position: sticky;
    top: 0;
    z-index: 90;
}

.info-sessao {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.info-sessao span {
    font-size: 0.75rem;
    color: #64748b;
    text-transform: uppercase;
    font-weight: 700;
}

.info-sessao strong {
    color: #0f172a;
    font-size: 1rem;
}

.conteudo-principal {
    flex: 1;
    padding: 2rem 3rem;
    overflow-y: auto;
}

/* ====================================================================== */
/* üè† DASHBOARD ESPEC√çFICO                                                */
/* ====================================================================== */

.container-dashboard {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.header-busca {
    background: #fff;
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
}

.campo-busca-master {
    background: #f1f5f9;
    border: 1px solid #e2e8f0;
    border-radius: 50px;
    padding: 15px 25px;
    display: flex;
    align-items: center;
    gap: 15px;
    transition: all 0.3s ease;
}

.campo-busca-master:focus-within {
    background: #fff;
    border-color: #ffcc00;
    box-shadow: 0 0 0 3px rgba(255, 204, 0, 0.2);
}

.campo-busca-master i {
    color: #94a3b8;
    font-size: 1.2rem;
}

.campo-busca-master input {
    border: none;
    outline: none;
    width: 100%;
    font-size: 1.1rem;
    font-weight: 500;
    color: #0f172a;
    background: transparent;
}

/* Grid de Resumo (Top Cards) */
.grid-resumo-dashboard {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

.card-indicador {
    background: #ffffff;
    padding: 25px;
    border-radius: 16px;
    border: 1px solid var(--borda-suave);
    display: flex;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
}

.card-indicador:hover {
    transform: translateY(-5px);
    box-shadow: var(--sombra-premium);
}

.icon-indicador {
    width: 60px;
    height: 60px;
    border-radius: 12px;
    display: block;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

/* Cores dos √çcones */
.icon-clientes {
    background: rgba(255, 215, 0, 0.1);
    color: var(--primaria-dark);
}

.icon-projetos {
    background: rgba(16, 185, 129, 0.1);
    color: #10b981;
}

.icon-financeiro {
    background: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
}

.info-indicador span {
    display: block;
    font-size: 0.85rem;
    color: var(--texto-apoio);
    font-weight: 600;
    text-transform: uppercase;
}

.info-indicador strong {
    font-size: 1.8rem;
    color: var(--texto-header);
    font-weight: 800;
}

.secao-atividades {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* Tabela T√©cnica Refinada */
.tabela-tecnica {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 10px;
    /* Cria espa√ßo entre as linhas */
    margin-top: 20px;
}

.tabela-tecnica th {
    padding: 15px 20px;
    font-size: 0.8rem;
    color: var(--texto-apoio);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border: none;
    text-align: left;
}

.tabela-tecnica tbody tr {
    background: #ffffff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
    transition: transform 0.2s ease;
}

.tabela-tecnica tbody tr:hover {
    transform: scale(1.01);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}

.tabela-tecnica td {
    padding: 20px;
    border-top: 1px solid #f1f5f9;
    border-bottom: 1px solid #f1f5f9;
    color: var(--texto-corpo);
    font-size: 0.95rem;
}

.tabela-tecnica td:first-child {
    border-left: 1px solid #f1f5f9;
    border-radius: 10px 0 0 10px;
}

.tabela-tecnica td:last-child {
    border-right: 1px solid #f1f5f9;
    border-radius: 0 10px 10px 0;
    text-align: right;
}

/* Mantendo compatibilidade com tabela-transversal se necess√°rio, mas preferindo tabela-tecnica */
.tabela-transversal {
    width: 100%;
    border-collapse: collapse;
    color: #0f172a;
}

.tabela-transversal th {
    text-align: left;
    padding: 12px;
    background: #f8fafc;
    border-bottom: 2px solid #e2e8f0;
    font-size: 0.75rem;
    text-transform: uppercase;
    color: #475569;
}

.tabela-transversal td {
    padding: 15px 12px;
    border-bottom: 1px solid #f1f5f9;
    font-size: 0.9rem;
}

.tabela-transversal td strong {
    color: #000 !important;
    font-size: 1rem;
}

.tabela-transversal td i {
    color: #94a3b8;
    margin-right: 8px;
}

.btn-icon {
    background: none;
    border: 1px solid #cbd5e1;
    padding: 6px 10px;
    border-radius: 4px;
    cursor: pointer;
    transition: 0.2s;
    color: #475569;
}

.btn-icon:hover {
    background: #ffcc00;
    border-color: #ffcc00;
    color: #000;
}

.btn-novo-atalho {
    background-color: #0f172a;
    color: #ffcc00;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
}

/* 8. Componentes de Proposta e Anima√ß√µes */
.card-item-detalhe {
    background: #fff;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: var(--sombra-premium);
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    margin-bottom: 1rem;
    border: 1px solid var(--borda-suave);
    transition: transform 0.3s ease;
}

.card-item-detalhe:hover {
    transform: translateY(-2px);
    border-color: var(--primaria);
}

.icone-container-detalhe {
    background: rgba(255, 215, 0, 0.1);
    padding: 12px;
    border-radius: 50%;
    color: var(--primaria-dark);
    font-size: 1.2rem;
}

.bloco-animado {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.bloco-animado.visible {
    opacity: 1;
    transform: translateY(0);
}

.badge {
    background: #e2e8f0;
    color: #475569;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
}

.badge-projeto {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    background: #e2e8f0;
    color: #475569;
}

/* ====================================================================== */
/* üìù M√ìDULOS DE CADASTRO E GEST√ÉO                                        */
/* ====================================================================== */

.header-modulo {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
    padding-bottom: 20px;
    border-bottom: 2px solid #f1f5f9;
}

.header-modulo h2 {
    font-size: 1.4rem;
    color: var(--texto-header);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 12px;
}

.header-modulo h2 i {
    color: var(--primaria);
}

.botoes-fluxo {
    margin-top: 50px;
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    border-top: 1px solid #f1f5f9;
    padding-top: 30px;
}

.btn-primary {
    background: var(--primaria) !important;
    color: #000 !important;
    font-weight: 700 !important;
    padding: 12px 35px !important;
    border-radius: 8px !important;
    transition: all 0.3s ease !important;
    border: none !important;
}

.btn-primary:hover {
    background: var(--primaria-dark) !important;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
}

.btn-secundario {
    background: transparent;
    border: 2px solid #cbd5e1;
    color: #64748b;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-secundario:hover {
    background: #f1f5f9;
    color: #1e293b;
}

/* Classes utilit√°rias de Coluna */
.col-4 {
    grid-column: span 4;
}

.col-6 {
    grid-column: span 6;
}

.col-8 {
    grid-column: span 8;
}

.col-12 {
    grid-column: span 12;
}

/* Estilo para o campo "Somente Leitura" */
.input-heranca {
    background: #f8fafc !important;
    border: 1px solid #e2e8f0 !important;
    color: #64748b !important;
    font-weight: 600;
}

/* Header Especial para Projetos */
#nome_cliente_projeto {
    color: var(--texto-header);
    font-size: 1.6rem;
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    gap: 15px;
}

#nome_cliente_projeto i {
    background: var(--primaria);
    color: #000;
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    font-size: 1.2rem;
}

/* Grupo de Destaque (T√≠tulo do Projeto) */
.campo-destaque {
    grid-column: 1 / -1;
    background: #f8fafc;
    padding: 25px;
    border-radius: 12px;
    border: 1px dashed #cbd5e1;
    margin-bottom: 10px;
}

/* Ajuste nos Selects (Dropdowns) */
select.input-estilizado {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 18px;
    padding-right: 45px !important;
    cursor: pointer;
}

/* ====================================================================== */
/* üñ•Ô∏è TELA DE LOGIN                                                       */
/* ====================================================================== */

.body-login {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.container-login {
    max-width: 400px;
    width: 100%;
    padding: 2.5rem;
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    text-align: center;
    z-index: 1;
}

.logo-login {
    max-width: 180px;
    margin-bottom: 1.5rem;
}

.container-login h1 {
    font-size: 1.5rem;
    color: #1e293b;
    margin-bottom: 2rem;
}

.form-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.form-container .input-group {
    text-align: left;
}

.form-container label {
    display: block;
    font-size: 0.75rem;
    color: #475569;
    font-weight: 600;
    margin-bottom: 8px;
    text-transform: uppercase;
}

.mensagem-feedback {
    font-size: 0.9rem;
    color: #ef4444;
    min-height: 20px;
}

/* Responsividade */
@media (max-width: 992px) {
    .main-panel {
        margin-left: 0;
        width: 100%;
    }

    .sidebar-engenharia {
        transform: translateX(-100%);
        /* Adicionar JS para toggle no futuro */
    }
}

@media (max-width: 768px) {
    .header-principal {
        flex-wrap: wrap;
        height: auto;
        padding: 15px 20px;
        gap: 15px;
    }

    .conteudo-principal {
        padding: 1.5rem;
    }
}

/* ====================================================================== */
/* üöÄ FIX: HEADER DE ENGENHARIA & SINAIS VITAIS                           */
/* ====================================================================== */

.header-engenharia-fixo {
    background: #ffffff;
    height: 70px;
    /* Altura fixa para controle total */
    display: flex;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border-bottom: 3px solid var(--primaria);
    padding: 0 30px;
}

.header-container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Ajuste de Logo */
.logo-area {
    display: flex;
    align-items: center;
    gap: 20px;
    height: 100%;
}

.logo-top-fixa {
    max-height: 40px;
    /* Impede que a logo fique gigante */
    width: auto;
    object-fit: contain;
}

.divider-v {
    width: 1px;
    height: 30px;
    background: var(--borda-suave);
}

.cliente-info small {
    display: block;
    font-size: 0.65rem;
    color: var(--texto-apoio);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.cliente-info > div > strong {
    color: var(--texto-header);
    font-size: 0.95rem;
}

.cliente-info strong {
    color: var(--texto-header);
    font-size: 0.95rem;
}

/* Monitor de Sinais Vitais (Lado Direito) */
.vitals-monitor {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Estilo para cada item de dado no header */
.vital-item {
    display: flex;
    flex-direction: column;
    text-align: center;
    padding: 0 12px; /* Espa√ßamento horizontal */
}

.vital-item small {
    display: block;
    font-size: 0.6rem; /* R√≥tulo ainda mais discreto */
    font-weight: 600;
    color: #94a3b8; /* Cor mais suave */
    text-transform: uppercase;
    margin-bottom: 2px;
    letter-spacing: 0.5px;
}

.vital-item strong {
    font-size: 0.9rem; /* Ajustado para padronizar com o projeto */
    font-weight: 600; /* Peso reduzido para limpeza visual */
    font-variant-numeric: tabular-nums;
    color: #334155; /* Cinza escuro em vez de preto total */
    transition: color 0.3s ease;
}

/* Destaque para o valor principal (Pot√™ncia Real) */
.vital-item .valor-destaque {
    color: var(--primaria-dark);
    font-size: 1rem;
}

/* Luz de Status (Ping de Integra√ß√£o) */
.valor-ok {
    color: #16a34a !important; /* Verde sucesso */
}

.valor-atencao {
    color: #f59e0b !important; /* Amarelo aten√ß√£o */
    animation: pulseYellow 2s infinite;
}

.valor-critico {
    color: #ef4444 !important; /* Vermelho cr√≠tico */
    animation: pulseRedText 1.5s infinite;
}

@keyframes pulseStatus {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }

    100% {
        opacity: 1;
    }
}

@keyframes pulseYellow {
    0% { opacity: 1; }
    50% { opacity: 0.6; }
    100% { opacity: 1; }
}

@keyframes pulseRedText {
    0% {
        text-shadow: 0 0 5px rgba(239, 68, 68, 0);
    }
    50% {
        text-shadow: 0 0 10px rgba(239, 68, 68, 0.7);
    }
    100% {
        text-shadow: 0 0 5px rgba(239, 68, 68, 0);
    }
}

/* ====================================================================== */
/* ‚ö° INTERFACE DE DIMENSIONAMENTO (GERADOR-PROPOSTA)                      */
/* ====================================================================== */

/* 2. L√≥gica de Etapas Bloqueadas (Visual de Fluxo) */
.etapa-bloqueada {
    opacity: 0.5;
    pointer-events: none;
    filter: grayscale(1);
    transition: all 0.4s ease;
}

.etapa-ativa {
    opacity: 1 !important;
    pointer-events: auto !important;
    filter: grayscale(0) !important;
}

/* 3. Painel Financeiro (Cascata de Custos) */
.painel-detalhamento-cascata {
    background: #f8fafc; /* Um cinza azulado quase branco */
    border-radius: 8px;
    padding: 12px;
    margin-top: 5px;
}

.painel-detalhamento-cascata h4 {
    display: none; /* Oculta t√≠tulo redundante se houver */
}

.linha-custo {
    display: flex;
    justify-content: space-between;
    padding: 5px 0;
    border-bottom: 1px solid #edf2f7;
    font-size: 0.9rem;
    color: #4a5568;
}

.destaque-lucro {
    color: #2f855a;
    font-weight: bold;
    background: #f0fff4; /* Verde bem clarinho para o lucro */
    padding: 5px;
    border-radius: 4px;
}

.destaque-imposto {
    color: #dc2626;
    font-weight: 700;
    padding: 5px;
}

.total-geral-proposta {
    background: #f8fafc;
    color: #0f172a;
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 800;
    font-size: 1.1rem;
    border-left: 4px solid #16a34a;
}

/* 4. Toggle de Orienta√ß√£o */
.toggle-container-lux {
    display: flex;
    background-color: #e2e8f0;
    border-radius: 8px;
    padding: 4px;
}

.toggle-container-lux input[type="radio"] {
    display: none;
}

.toggle-container-lux label {
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.3s ease;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--texto-apoio);
}

.toggle-container-lux input[type="radio"]:checked+label {
    background-color: #ffffff;
    color: var(--texto-header);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.conteudo-principal {
    padding: 1.5rem;
}

/* HSP Luxe Display */
.hsp-display-luxe {
    display: flex;
    align-items: center;
    background: #f8fafc;
    /* Cinza gelo suave */
    border-radius: 8px;
    padding: 10px 15px;
    color: var(--texto-principal);
    border: 1.5px solid var(--borda-suave);
    transition: border-color 0.3s;
}

.hsp-display-luxe:hover {
    border-color: var(--primaria-dark);
}

.hsp-icon {
    color: var(--primaria-dark);
    font-size: 1.2rem;
    margin-right: 12px;
}

.hsp-valor span {
    font-size: 1.4rem;
    font-weight: 700;
    display: block;
    line-height: 1;
    color: #0f172a;
}

.hsp-valor small {
    font-size: 0.65rem;
    color: var(--texto-apoio);
    text-transform: uppercase;
    font-weight: 600;
}

/* Chips de Oversizing */
.chips-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin: 12px 0 25px 0;
}

.chip-os {
    padding: 6px 14px;
    background: #fff;
    border: 1px solid var(--borda-suave);
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

/* Anima√ß√£o da Seta */
.arrow-toggle {
    transition: transform 0.3s ease;
}

/* Resumo Executivo (Checkout) */
.grid-resumo-final {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr; /* Tr√™s colunas limpas */
    gap: 20px;
    padding: 10px 0;
}

.item-resumo label {
    display: block;
    font-size: 0.75rem;
    text-transform: uppercase;
    color: #94a3b8;
    letter-spacing: 0.5px;
    margin-bottom: 5px;
    font-weight: 700;
}

.item-resumo p {
    font-size: 1rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0;
}

.item-resumo small {
    font-size: 0.8rem;
    color: #64748b;
    display: block;
    margin-top: 2px;
}

.texto-destaque-valor {
    color: #16a34a !important;
    font-size: 1.2rem !important;
}

/* Ajuste para Mobile */
@media (max-width: 768px) {
    .grid-resumo-final { grid-template-columns: 1fr; }
}

.chip-os:hover {
    border-color: var(--primaria);
}

.chip-os.active {
    background: var(--primaria);
    color: #000;
    border-color: var(--primaria-dark);
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
}

/* Tabela e Filtro */
.busca-container {
    position: relative;
    margin-bottom: 15px;
}

.busca-container i {
    position: absolute;
    left: 15px;
    top: 12px;
    color: #94a3b8;
}

.busca-container input {
    padding-left: 40px !important;
}

.tabela-scroll-engenharia {
    max-height: 350px;
    overflow-y: auto;
    border: 1px solid var(--borda-suave);
    border-radius: 8px;
}

/* ====================================================================== */
/* üé® ESTADOS DE SELE√á√ÉO DE INVERSOR (UX)                                 */
/* ====================================================================== */

/* Estado: Sugest√£o ideal da IA (Verde) */
.inversor-sugerido.ideal {
    border: 2px solid #22c55e !important;
    background-color: #f0fdf4 !important;
    position: relative;
}

/* Estado: Selecionado pelo Usu√°rio (Azul) */
.inversor-sugerido.selecionado {
    border: 2px solid #3b82f6 !important;
    background-color: #eff6ff !important;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
}

/* Estado: Sele√ß√£o Manual (Laranja/Aviso) */
.item-inversor-manual.selecionado {
    border: 2px dashed #f59e0b !important;
    background-color: #fffbeb !important;
}

/* ====================================================================== */
/* üé® ESTADOS DE SELE√á√ÉO DE M√ìDULOS (UNIFICADO)                           */
/* ====================================================================== */

/* RECOMENDA√á√ÉO (O que o sistema indica) */
.recomendado-ia {
    border: 2px solid #22c55e !important; /* Verde */
    position: relative;
    background-color: #f0fdf4;
}

.recomendado-ia::after {
    content: 'RECOMENDADO';
    position: absolute;
    top: -10px;
    right: 10px;
    background: #22c55e;
    color: white;
    font-size: 10px;
    font-weight: 800;
    padding: 2px 6px;
    border-radius: 4px;
}

/* SELE√á√ÉO DO USU√ÅRIO (O que voc√™ clicou) */
.selecionado-usuario {
    border: 3px solid #3b82f6 !important; /* Azul destaque */
    background-color: #eff6ff !important;
    transform: scale(1.02);
    transition: all 0.2s ease;
    box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.4);
    z-index: 10;
}

.label-erro {
    font-size: 0.6rem;
    color: #dc2626;
    font-weight: 800;
    text-transform: uppercase;
}

.linha-alerta button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Selo de 'Melhor Escolha' */
.badge-recomendado {
    background: #22c55e;
    color: white;
    font-size: 10px;
    font-weight: 800;
    padding: 2px 8px;
    border-radius: 4px;
    display: inline-block;
    margin-bottom: 4px;
}

.label-sugestao {
    font-size: 0.65rem;
    color: #166534;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Estilo para a Tag de Tipo (Monof√°sico/Trif√°sico) */
.tag-tipo {
    background: #e2e8f0;
    color: #475569;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
}

/* Alerta de Sugest√£o e Status */
.alerta-sugestao-clean {
    background-color: #f0fdf4;
    border: 1px dashed #16a34a;
    color: #166534;
    padding: 15px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.9rem;
}

.status-badge,
.badge-sucesso,
.badge-neutro,
.badge-perigo {
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
}

.status-ideal,
.badge-sucesso {
    background: #dcfce7;
    color: #166534;
}

.status-limite,
.badge-neutro {
    background: #f1f5f9;
    color: #64748b;
}

.status-incompativel,
.badge-perigo,
.linha-bloqueada {
    background: #fee2e2;
    color: #991b1b;
}

.linha-bloqueada button {
    filter: grayscale(1);
    pointer-events: none;
    opacity: 0.6;
}

/* Estilos para a nova composi√ß√£o de inversores na tabela de sugest√µes */
.col-detalhe-inv {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.composicao-item {
    display: flex;
    align-items: center;
}

.fase-tag {
    font-size: 0.6rem;
    padding: 2px 5px;
    border-radius: 4px;
    margin-right: 8px;
    font-weight: 700;
    color: white;
    flex-shrink: 0;
}

.badge-tri { background-color: #ef4444; } /* Vermelho para Trif√°sico */
.badge-mono { background-color: #3b82f6; } /* Azul para Monof√°sico */

.modelo-txt {
    font-weight: 600;
    font-size: 0.85rem;
}

/* ALERTAS T√âCNICOS DE ENGENHARIA */
.alerta-critico {
    background-color: #fef2f2;
    border: 1px solid #ef4444;
    color: #991b1b;
    padding: 10px;
    border-radius: 6px;
    margin-top: 5px;
    font-size: 0.9rem;
    animation: pulseRed 2s infinite;
}

.alerta-atencao {
    background-color: #fffbeb;
    border: 1px solid #f59e0b;
    color: #92400e;
    padding: 10px;
    border-radius: 6px;
    margin-top: 5px;
    font-size: 0.9rem;
}

.alerta-info-suave {
    background-color: #eff6ff;
    border: 1px solid #bfdbfe;
    color: #1e40af;
    padding: 8px;
    border-radius: 6px;
    margin-top: 5px;
    font-size: 0.85rem;
}

/* Estilo para Se√ß√µes Retr√°teis */
.secao-conteudo-oculto {
    display: none; /* Escondido por padr√£o */
    padding-top: 15px;
    border-top: 1px solid #f1f5f9;
    margin-top: 10px;
}

.secao-header.clickable {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.resumo-premissa {
    font-size: 0.75rem;
    background: #f1f5f9; /* Cinza bem claro */
    padding: 2px 8px;
    border-radius: 4px;
    color: #475569;
    font-weight: 600;
    margin-left: auto; /* Joga o resumo para a direita do card */
    border: 1px solid #e2e8f0;
}

.btn-expandir {
    transition: transform 0.3s ease;
    color: #64748b;
}

.rotated {
    transform: rotate(180deg);
}

.card-tecnico:hover {
    border-color: #cbd5e1;
}

@keyframes pulseRed {
    0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
    70% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); }
    100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
}

/* ====================================================================== */
/* üö™ MODAL DE ESCOPO INICIAL (GATEKEEPER)                                */
/* ====================================================================== */

.modal-overlay-escopo {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(15, 23, 42, 0.95); /* Fundo escuro s√≥lido para foco total */
    display: flex; justify-content: center; align-items: center;
    z-index: 9999;
    backdrop-filter: blur(5px);
}

.modal-content-escopo {
    background: white; 
    padding: 40px; 
    border-radius: 16px;
    text-align: center; 
    max-width: 550px;
    width: 90%;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    border: 1px solid #e2e8f0;
}

.opcoes-escopo {
    display: flex; flex-direction: column; gap: 15px; margin-top: 30px;
}

.btn-escopo {
    padding: 18px; border: 2px solid #e2e8f0; border-radius: 10px;
    cursor: pointer; font-weight: 700; font-size: 1rem;
    transition: all 0.2s ease;
    background: #f8fafc; color: #475569;
    display: flex; align-items: center; justify-content: center; gap: 10px;
}

.btn-escopo:hover { border-color: var(--primaria); background: #fffbeb; color: #b45309; transform: translateY(-2px); }

.btn-escopo-duplo { background: #0f172a; color: #fff; border: 2px solid #0f172a; }
.btn-escopo-duplo:hover { background: var(--primaria); color: #000; border-color: var(--primaria); }

/* ====================================================================== */
/* üëë MODO PREMIUM (REQUINTE VISUAL - DETALHES)                           */
/* ====================================================================== */

/* Estilo dos Bot√µes de Altern√¢ncia no Header */
.seletor-modo-engenharia {
    display: flex;
    background: #f1f5f9;
    padding: 4px;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    margin: 0 20px;
}

.btn-modo-eng {
    border: none;
    background: transparent;
    padding: 6px 16px;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    color: #64748b;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-modo-eng.ativo {
    background: #fff;
    color: #0f172a;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

/* Quando o modo Premium est√° ativo (Bot√£o) */
.modo-premium .btn-modo-eng.ativo#btn_modo_prm {
    background: linear-gradient(135deg, #b45309 0%, #78350f 100%);
    color: #fff;
    box-shadow: 0 4px 10px rgba(180, 83, 9, 0.3);
}

/* --- Altera√ß√µes Sutis nos Cards (Bordas e Sombras) --- */
.modo-premium .card-tecnico {
    border: 1px solid #d97706; /* Borda √Çmbar/Dourada sutil */
    box-shadow: 0 10px 30px -5px rgba(217, 119, 6, 0.15); /* Sombra dourada difusa */
}

.modo-premium .header-engenharia-fixo {
    border-bottom: 3px solid #b45309; /* Linha inferior do header mais nobre */
}

.modo-premium .secao-header i {
    color: #b45309; /* √çcones dos t√≠tulos em tom Bronze */
}

.modo-premium .vital-box.highlight {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); /* Gradiente nos vitais */
    color: #fff;
    border: none;
}

.modo-premium .vital-box.highlight strong,
.modo-premium .vital-box.highlight small {
    color: #fff;
}

/* ====================================================================== */
/* üîí SISTEMA DE BLOQUEIO DE ETAPAS (SEGURAN√áA DE DADOS)                  */
/* ====================================================================== */

.card-bloqueado {
    position: relative;
    opacity: 0.6;
    filter: grayscale(0.8);
    pointer-events: none; /* Impede cliques nos inputs */
    transition: all 0.4s ease;
    border-color: #cbd5e1 !important;
}

.overlay-desbloqueio {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
    pointer-events: auto; /* Permite clicar apenas no bot√£o de desbloqueio */
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(1px);
}

.btn-desbloquear {
    background-color: #0f172a;
    color: #fff;
    border: 2px solid #fff;
    padding: 10px 20px;
    border-radius: 30px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: transform 0.2s;
}

.btn-desbloquear:hover {
    transform: scale(1.05);
    background-color: #ef4444; /* Vermelho alerta ao passar o mouse */
    border-color: #ef4444;
}

.btn-desbloquear i { margin-right: 8px; }

/* Estilo para dados informativos (n√£o edit√°veis) em formul√°rios */
.valor-informativo {
    font-size: 1.05rem;
    font-weight: 600;
    color: #334155;
    padding: 12px 0;
    border-bottom: 1px solid #e2e8f0;
    width: 100%;
}

/* ====================================================================== */
/* ‚öôÔ∏è CONFIGURA√á√ÉO DE PREMISSAS (DASHBOARD)                               */
/* ====================================================================== */

.nota-alerta {
    display: block;
    margin-top: 5px;
    font-size: 0.75rem;
    color: #b45309;
    background-color: #fffbeb;
    padding: 8px;
    border-radius: 6px;
    border-left: 3px solid #f59e0b;
    line-height: 1.4;
}

.nota-alerta i {
    margin-right: 5px;
}

.card-premissas-tecnicas {
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    margin-top: 20px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.instrucao-tecnica {
    font-size: 0.9rem;
    color: #64748b;
    margin-bottom: 20px;
    border-bottom: 1px solid #f1f5f9;
    padding-bottom: 10px;
}