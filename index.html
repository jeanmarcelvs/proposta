<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sua Proposta de Energia Solar | GDIS</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="/gdisFavicon.ico" type="image/x-icon">
    <!-- Adicionando Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <!-- CABEÇALHO FIXO -->
    <header id="proposal-header" class="header">
        <div class="header__container">
            <div class="header__logo">
                <img src="logo.png" alt="Logo da GDIS">
            </div>
            <div class="header__options">
                <button id="btn-alta-performance" class="option-button active">Alta Performance</button>
                <button id="btn-economica" class="option-button">Econômica</button>
            </div>
        </div>
    </header>

    <!-- TELA DE BUSCA INICIAL -->
    <main id="search-form" class="screen">
        <div class="search-card">
            <img src="logo.png" alt="Logo da GDIS" class="search-card__logo">
            <h1 class="search-card__title">Acesse sua Proposta Personalizada</h1>
            <p class="search-card__subtitle">
                Digite o ID do projeto fornecido por nossa equipe comercial para ver os detalhes da sua oferta.
            </p>
            <div class="search-card__panel">
                <input type="text" id="project-id" placeholder="ID do Projeto" maxlength="6" required>
                <button type="button" id="search-button" class="btn btn--primary">
                    <i class="fas fa-arrow-right"></i> Visualizar Proposta
                </button>
            </div>
        </div>
    </main>

    <!-- TELA DE DETALHES DA PROPOSTA -->
<!-- SUBSTITUA A MAIN ANTIGA PELA VERSÃO COM LOGO DINÂMICA -->
<main id="proposal-details" class="screen proposal-details" style="display: none;">
    <div class="proposal-container">

        <!-- SEÇÃO 1: INFORMAÇÕES DO CLIENTE -->
        <section class="proposal-section">
            <h2 class="section-title">
                <i class="fas fa-user"></i>
                Proposta para <span id="cliente-nome"></span>
            </h2>
            <div class="section-content">
                <p><strong>Localidade:</strong> <span id="cliente-cidade-uf"></span></p>
                <p><strong>Data da Proposta:</strong> <span id="data-geracao"></span></p>
            </div>
        </section>

        <!-- SEÇÃO 2: DETALHES DO SISTEMA SOLAR (Com destaque combinado) -->
        <section class="proposal-section">
            <h2 class="section-title">
                <i class="fas fa-solar-panel"></i>
                Detalhes do Sistema Solar
            </h2>
            <div class="section-content-grid">
                <!-- NOVO: Bloco de destaque para Geração e Conta -->
                <div class="metric-box highlight-box">
                    <span class="metric-label">Geração Média Mensal</span>
                    <span class="metric-value" id="geracao-mensal"></span>
                    <p class="metric-subvalue" id="conta-energia-estimada"></p>
                </div>
                <div class="metric-box">
                    <span class="metric-label">Potência do Sistema</span>
                    <span class="metric-value-small" id="potencia-sistema"></span>
                </div>
                <div class="metric-box">
                    <span class="metric-label">Tipo de Instalação</span>
                    <span class="metric-value-small" id="tipo-instalacao"></span>
                </div>
            </div>
        </section>

        <!-- SEÇÃO 3: EQUIPAMENTOS DE PONTA (Com container para a logo) -->
        <section class="proposal-section">
            <h2 class="section-title">
                <i class="fas fa-cogs"></i>
                Equipamentos de Ponta
            </h2>
            <!-- NOVO: Container para a logo dinâmica -->
            <div id="equipment-logo-container" class="equipment-logo-wrapper">
                <!-- A imagem da logo será inserida aqui pelo JS -->
            </div>
        </section>

        <!-- SEÇÃO 4: RESUMO FINANCEIRO E INVESTIMENTO -->
        <section class="proposal-section">
            <h2 class="section-title">
                <i class="fas fa-dollar-sign"></i>
                Investimento e Retorno
            </h2>
            <div class="section-content-grid">
                <div class="metric-box">
                    <span class="metric-label">Valor Total do Projeto</span>
                    <span class="metric-value" id="valor-total"></span>
                </div>
                <div class="metric-box">
                    <span class="metric-label">Retorno (Payback)</span>
                    <span class="metric-value" id="payback"></span>
                </div>
            </div>
        </section>

        <!-- SEÇÃO 5: OPÇÕES DE FINANCIAMENTO -->
        <section class="proposal-section">
            <h2 class="section-title">
                <i class="fas fa-hand-holding-dollar"></i>
                Opções de Financiamento
            </h2>
            <div id="financing-options" class="financing-grid"></div>
            <div id="parcela-equilibrada"></div>
        </section>

        <!-- SEÇÃO 6: AÇÕES -->
        <section class="proposal-actions">
            <a id="link-pdf" href="#" target="_blank" class="btn btn--primary btn--large">
                <i class="fas fa-file-pdf"></i> Baixar Proposta Completa em PDF
            </a>
            <p class="proposal-validity">Proposta válida por 3 dias ou enquanto durarem os estoques.</p>
        </section>

    </div>
</main>



    <!-- TELA DE PROPOSTA EXPIRADA -->
    <main id="expired-proposal-section" class="screen" style="display: none;">
        <div class="status-card">
            <i class="fas fa-exclamation-triangle status-card__icon status-card__icon--warning"></i>
            <h1 class="status-card__title">Sua Proposta Expirou</h1>
            <p class="status-card__subtitle">
                Para garantir os melhores valores e a disponibilidade de estoque, por favor, solicite uma nova proposta.
            </p>
            <button class="btn btn--primary" onclick="location.reload();">Voltar ao Início</button>
        </div>
    </main>

    <!-- POPUP DE ERRO -->
    <div id="error-popup" class="popup-backdrop" style="display: none;">
        <div class="popup-content">
            <i class="fas fa-times-circle status-card__icon status-card__icon--error"></i>
            <h2 id="popup-title">Ops, Algo deu Errado!</h2>
            <p id="popup-message"></p>
            <button id="popup-close-btn" class="btn btn--primary">Fechar</button>
        </div>
    </div>

</body>
<script type="module" src="api.js" defer></script>
<script type="module" src="app.js" defer></script>
</html>
